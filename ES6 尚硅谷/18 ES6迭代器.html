<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        任何数据结构只要部署iterator接口，就可以完成遍历操作(Array、Arguments、Set、Map、String、TypedArray、NodeList)
        迭代器iterator是一个object，这个object有一个next函数，该函数返回一个有value和done属性的object，
        其中value指向迭代序列中当前next函数定义的值。
     -->
    <script>
        // const arr = [1, 2, 34, 45];
        // // for in得到键名
        // for (let v of arr) {
        //     console.log(v);
        // };
        // // 迭代器遍历数组原理
        // // 1 创建一个指针对象  指向当前从数据结构起始位置
        // let iterator = arr[Symbol.iterator]();
        // // 2 第一个调用next 指针指向数据结构的第一个成员
        // console.log(iterator.next());
        // console.log(iterator.next());
        // // 3 不断调用next 指针一直往后移动 直到指向最后一个成员
        // console.log(iterator.next());
        // console.log(iterator.next());
        // // 4 每次返回结果是一个包含value和done属性的对象
        // console.log(iterator.next());


        function createIterator(items) {
            var i = 0
            return {
              next: function() {
                var done = (i >= items.length)
                var value = !done ? items[i++] : undefined

                return {
                  done: done,
                  value: value
                }
              }
            }
        }           
        var iterator = createIterator([1,2,5])    
        console.log(iterator.next())  
        console.log(iterator.next())
        console.log(iterator.next())
        // 之后所有调用都会返回相同的内容
        console.log(iterator.next())
    </script>
</body>

</html>